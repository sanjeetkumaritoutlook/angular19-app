<!-- Theme Provider (on main app component HTML only) -->
<fluid-theme-provider [theme]="theme$ | async" #themeRef></fluid-theme-provider>
<fluid-i18n-provider language='en'>
<ng-container *ngIf="shouldRender && docsLoaded">

  <!-- App Header -->
  <fluid-header [links]="headerLinks" (linkClicked)="navigate($event?.detail)" fixed-position fluid-logo>
    <div slot="header-content">
      <fluid-button
        [config]="settingsBtnConfig"
        (click)="toggleSettings(true)"
      ></fluid-button>
    </div>
  </fluid-header>

  <!-- App Content -->
  <router-outlet></router-outlet>

  <fluid-footer>
    <fluid-footer-content slot="footer-content" style="text-align: center;">
      Â© {{getYear()}} FLUID Design Team | Liberty Mutual Insurance, 175 Berkeley Street, Boston, MA 02116
    </fluid-footer-content>
  </fluid-footer>
  <fluid-drawer [visible]="settingsVisible" (drawerToggled)="toggleSettings($event.detail)" anchor="right" size="lg">
    <app-environment-status></app-environment-status>
    <fluid-title level="1">Settings</fluid-title>
    <fluid-grid>
      <fluid-grid-item [colSm]="12">
        <fluid-section-detail section-title="Select Your Framework">
          FLUID will work in any of the main Javascript frameworks, or even without one, however, the way we bind properties and attributes may
          differ from framework to framework (for example Angular uses [syntax] to bind Javascript properties to a component, where Vue uses :syntax
          for the same.<br/><br/>

          Choosing your preferred flavor below allows us to show you code snippets and examples that are relevant to you.
        </fluid-section-detail>

        <fluid-button *ngFor="let framework of getFrameworks()"
                      [label]="framework"
                      [color]="isSelected(framework, (selectedFramework$ | async))"
                      (click)="changeFramework(framework)"></fluid-button>
      </fluid-grid-item>
      <fluid-grid-item [colSm]="12" >
        <fluid-section-detail section-title="Select Your Theme">
          FLUID is built to support progressive enhancement of applications, and as such, supports several themes to allow
          applications to migrate to our components iteratively. When the applications is completely migrated to FLUID components,
          you can swap the entire applications theme with one small change to your theme provider.<br/><br/>

          As our documentation site is built exclusively from FLUID components, you can switch themes with the toggles below to
          see how ueach component looks in each theme.
        </fluid-section-detail>
        <fluid-button label="Legacy Theme" [color]="isSelected('legacy', (theme$ | async))" (click)="changeTheme('legacy')"></fluid-button>
        <fluid-button label="LM Property Theme" [color]="isSelected('lm', (theme$ | async))" (click)="changeTheme('lm')"></fluid-button>
        <fluid-button label="LM Corporate Theme" [color]="isSelected('corp', (theme$ | async))" (click)="changeTheme('corp')"></fluid-button>
      </fluid-grid-item>
    </fluid-grid>
  </fluid-drawer>
</ng-container>
</fluid-i18n-provider>